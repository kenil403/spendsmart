{% extends 'layout.html' %}
{% block title %}Expenses{% endblock %}
{% block content %}
<h4>All Expenses</h4>
<table class="table table-striped">
  <thead>
    <tr><th>Date</th><th>Category</th><th>Description</th><th class="text-end">Amount</th><th>Actions</th></tr>
  </thead>
  <tbody>
    {% for e in expenses %}
    <tr>
      <td>{{ e.date.strftime('%Y-%m-%d') }}</td>
      <td>{{ e.category.name }}</td>
      <td>{{ e.description }}</td>
  <td class="text-end">{{ e.amount|inr }}</td>
      <td class="text-nowrap">
        <a class="btn btn-sm btn-outline-secondary btn-icon" href="/edit/{{ e.id }}" title="Edit">
          <i class="bi bi-pencil"></i> Edit
        </a>
        <form method="post" action="/delete/{{ e.id }}" style="display:inline-block" onsubmit="return confirm('Delete this expense?');">
          <button class="btn btn-sm btn-outline-danger btn-icon" title="Delete">
            <i class="bi bi-trash"></i> Delete
          </button>
        </form>
      </td>
    </tr>
    {% else %}
    <tr><td colspan="5">No expenses yet.</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
